# Smart Plant Care System - Configuration File

# Environment Parameters
environment:
  name: "PlantCareEnv-v0"
  timestep_hours: 1  # Each timestep represents 1 hour
  episode_days: 30   # Each episode simulates 30 days
  
  # Plant Physics Parameters
  plant:
    initial_health: 80.0
    health_min: 0.0
    health_max: 100.0
    optimal_moisture_min: 0.4  # 40%
    optimal_moisture_max: 0.7  # 70%
    optimal_temp_min: 18.0     # 째C
    optimal_temp_max: 28.0     # 째C
    
  # Soil Parameters
  soil:
    capacity: 1.0  # Max water capacity (normalized)
    initial_moisture: 0.5
    evaporation_rate: 0.03  # Base evaporation rate (per hour)
    temp_evap_coeff: 0.002  # Temperature effect on evaporation
    
  # Weather Conditions
  weather:
    temp_mean: 22.0
    temp_std: 3.0
    temp_day_night_diff: 5.0
    light_max: 1000  # lux
    
  # Action Space
  actions:
    water_max: 100  # ml
    lamp_power: 500  # watts

# PPO Agent Parameters
ppo:
  learning_rate: 0.0003
  n_steps: 2048      # Steps collected per update
  batch_size: 64
  n_epochs: 10       # Optimization epochs per update
  gamma: 0.99        # Discount factor
  gae_lambda: 0.95   # GAE parameter
  clip_range: 0.2    # PPO clipping range
  ent_coef: 0.01     # Entropy coefficient (encourages exploration)
  vf_coef: 0.5       # Value function coefficient
  max_grad_norm: 0.5 # Gradient clipping
  
  # Network Architecture
  policy_network:
    net_arch: [256, 256]  # Two layers, 256 neurons each
    activation: "tanh"
    
  value_network:
    net_arch: [256, 256]
    activation: "tanh"

# Training Parameters
training:
  total_timesteps: 5_000_000  # Total training steps (~3 hours on GPU)
  eval_freq: 10_000           # Evaluate every 10k steps
  save_freq: 50_000           # Save model every 50k steps
  n_eval_episodes: 10         # Run 10 episodes per evaluation
  device: "auto"              # "auto" | "cuda" | "cpu"
  seed: 42
  
  # Domain Randomization
  domain_randomization:
    enabled: true
    temp_range: [15, 35]      # Temperature range variation
    evap_multiplier: [0.7, 1.3]  # Evaporation rate multiplier
    sensor_noise_std: 0.05    # Sensor noise std dev

# Reward Function Weights
reward:
  alpha: 1.0      # Health gain weight
  beta: 0.01      # Water penalty weight (per ml)
  gamma: 0.001    # Energy penalty weight (per watt-hour)
  delta: 0.5      # Constraint violation penalty (per hour)
  
  # Constraint Definitions
  constraints:
    moisture_min: 0.2   # Soil moisture cannot be below 20%
    moisture_max: 0.9   # Soil moisture cannot exceed 90%
    temp_min: 15.0      # Temperature cannot be below 15째C
    temp_max: 32.0      # Temperature cannot exceed 32째C

# Baseline Policy Parameters
baselines:
  fixed_schedule:
    water_times: [8, 20]     # Water at 8am and 8pm daily
    water_amount: 50         # ml
    lamp_schedule: [6, 22]   # Lamp on at 6am, off at 10pm
    
  threshold_rule:
    moisture_threshold: 0.3  # Water when below 30%
    water_amount: 50
    light_threshold: 200     # Turn on lamp when below 200 lux

# Evaluation and Visualization
evaluation:
  test_scenarios:
    - name: "normal"
      temp_bias: 0
      evap_multiplier: 1.0
    - name: "hot_dry"
      temp_bias: 5
      evap_multiplier: 1.5
    - name: "cloudy"
      temp_bias: -2
      light_multiplier: 0.6
    - name: "sensor_noise"
      noise_std: 0.1
      
  metrics:
    - "avg_health"
    - "final_health"
    - "total_water_used"
    - "total_energy_used"
    - "violation_hours"
    - "efficiency_score"

# Logging and Output
logging:
  tensorboard_log: "./logs/tensorboard/"
  save_path: "./models/"
  video_folder: "./videos/"
  verbose: 1
  
  # Progress Reporting
  progress_bar: true
  log_interval: 10  # Log every 10 updates

# GPU Optimization
gpu:
  enabled: true
  device_id: 0
  cudnn_benchmark: true
  mixed_precision: false  # Mixed precision training (experimental)

